cat /home/claude/USCG_BQ_Tracker_Fixed.html
Output

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USCG Auxiliary BQ Training Tracker</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: Arial, sans-serif; 
            background: linear-gradient(135deg, #1e3c72, #2a5298); 
            color: #333; 
            line-height: 1.6; 
            min-height: 100vh; 
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { 
            background: rgba(255, 255, 255, 0.95); 
            border-radius: 15px; 
            padding: 30px; 
            margin-bottom: 30px; 
            text-align: center; 
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); 
        }
        .header h1 { color: #1e3c72; font-size: 2rem; margin-bottom: 10px; }
        .login-form { 
            background: rgba(255, 255, 255, 0.95); 
            border-radius: 15px; 
            padding: 30px; 
            max-width: 500px; 
            margin: 0 auto; 
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); 
        }
        .login-type-buttons { display: flex; gap: 10px; margin-bottom: 20px; }
        .login-type-btn { 
            flex: 1; 
            padding: 12px; 
            background: #ddd; 
            border: 2px solid #ccc; 
            border-radius: 5px; 
            cursor: pointer; 
            font-weight: bold; 
            font-size: 1rem; 
            transition: all 0.3s ease; 
        }
        .login-type-btn.active { 
            background: linear-gradient(135deg, #dc3545, #c82333); 
            color: white; 
            border-color: #dc3545; 
        }
        .form-group { margin-bottom: 20px; }
        .form-group label { 
            display: block; 
            margin-bottom: 8px; 
            font-weight: bold; 
            color: #1e3c72; 
        }
        .form-group input { 
            width: 100%; 
            padding: 10px; 
            border: 1px solid #ddd; 
            border-radius: 5px; 
            font-size: 1rem; 
        }
        .form-group button { 
            width: 100%; 
            padding: 12px; 
            background: linear-gradient(135deg, #dc3545, #c82333); 
            color: white; 
            border: none; 
            border-radius: 5px; 
            font-size: 1rem; 
            cursor: pointer; 
            font-weight: bold; 
        }
        .form-group button:hover { 
            background: linear-gradient(135deg, #c82333, #a71e2a); 
        }
        #loginView, #traineeView, #leaderView { display: none; }
        #loginView.active, #traineeView.active, #leaderView.active { display: block; }
        .logout-btn { 
            background: #dc3545; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 5px; 
            cursor: pointer; 
            font-weight: bold; 
            margin: 20px 0; 
        }
        .logout-btn:hover { background: #c82333; }
        .header-controls { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-top: 20px; 
        }
        .user-name { 
            color: #1e3c72; 
            font-weight: bold; 
            font-size: 1.1rem; 
        }
        .progress-bar { 
            width: 100%; 
            height: 30px; 
            background: #ddd; 
            border-radius: 15px; 
            overflow: hidden; 
            margin: 20px 0; 
        }
        .progress-fill { 
            height: 100%; 
            background: linear-gradient(90deg, #28a745, #20c997); 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            color: white; 
            font-weight: bold; 
            transition: width 0.3s ease; 
        }
        .checklist-item { 
            display: flex; 
            align-items: flex-start; 
            margin-bottom: 15px; 
            padding: 15px; 
            background: #f8f9fa; 
            border-radius: 10px; 
            border-left: 4px solid #6c757d; 
        }
        .checklist-item.completed { 
            background: #d4edda; 
            border-left-color: #28a745; 
        }
        .checklist-item input[type="checkbox"] { 
            margin-right: 15px; 
            transform: scale(1.2); 
            cursor: pointer; 
        }
        .checklist-item label { 
            flex: 1; 
            cursor: pointer; 
            font-weight: 500; 
        }
        .admin-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 20px; 
            margin-top: 30px; 
        }
        .admin-card { 
            background: rgba(255, 255, 255, 0.95); 
            border-radius: 15px; 
            padding: 20px; 
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); 
            cursor: pointer; 
            transition: transform 0.3s ease; 
        }
        .admin-card:hover { transform: translateY(-5px); }
        .admin-card.green { border-left: 5px solid #28a745; }
        .admin-card.yellow { border-left: 5px solid #ffc107; }
        .admin-card.red { border-left: 5px solid #dc3545; }
        .admin-card h3 { margin-bottom: 10px; color: #1e3c72; }
        .admin-card .percent { 
            font-size: 2.5rem; 
            font-weight: bold; 
            color: #dc3545; 
        }
        .stat-cards { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 20px; 
            margin-bottom: 30px; 
            background: rgba(255, 255, 255, 0.95); 
            border-radius: 15px; 
            padding: 25px; 
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); 
        }
        .stat-card { text-align: center; padding: 20px; }
        .stat-card h3 { color: #1e3c72; margin-bottom: 10px; }
        .stat-number { 
            font-size: 2rem; 
            font-weight: bold; 
            color: #dc3545; 
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- LOGIN VIEW -->
        <div id="loginView" class="active">
            <div class="header">
                <h1>ðŸ‡ºðŸ‡¸ USCG Auxiliary BQ Training Tracker</h1>
                <p>Track your path to Basically Qualified status</p>
            </div>
            <div class="login-form">
                <div class="form-group">
                    <label>Login Type:</label>
                    <div class="login-type-buttons">
                        <button class="login-type-btn active" onclick="setLoginType('trainee')">Trainee</button>
                        <button class="login-type-btn" onclick="setLoginType('leader')">Leader</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="memberId">Member ID:</label>
                    <input type="text" id="memberId" placeholder="Enter your Member ID">
                </div>
                <div class="form-group">
                    <label for="credential" id="credentialLabel">PIN (6 digits):</label>
                    <input type="password" id="credential" placeholder="Enter 6-digit PIN">
                </div>
                <div class="form-group">
                    <button type="button" onclick="login()">Login</button>
                </div>
            </div>
        </div>

        <!-- TRAINEE VIEW -->
        <div id="traineeView">
            <div class="header">
                <div class="header-controls">
                    <div>
                        <h1>Your BQ Progress</h1>
                        <p class="user-name" id="traineeUserName"></p>
                    </div>
                    <button class="logout-btn" onclick="logout()">Logout</button>
                </div>
            </div>
            <div style="background: rgba(255, 255, 255, 0.95); border-radius: 15px; padding: 25px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%;">0%</div>
                </div>
                <div id="checklistContainer" style="margin-top: 30px;"></div>
            </div>
        </div>

        <!-- LEADER VIEW -->
        <div id="leaderView">
            <div class="header">
                <div class="header-controls">
                    <div>
                        <h1>Leadership Dashboard</h1>
                        <p class="user-name" id="leaderUserName"></p>
                    </div>
                    <button class="logout-btn" onclick="logout()">Logout</button>
                </div>
            </div>
            <div class="stat-cards">
                <div class="stat-card">
                    <h3>On Track</h3>
                    <div class="stat-number" id="onTrackCount">0</div>
                </div>
                <div class="stat-card">
                    <h3>At Risk</h3>
                    <div class="stat-number" id="atRiskCount">0</div>
                </div>
                <div class="stat-card">
                    <h3>Needs Attention</h3>
                    <div class="stat-number" id="needsAttentionCount">0</div>
                </div>
                <div class="stat-card">
                    <h3>Group Average</h3>
                    <div class="stat-number" id="groupAverage">0%</div>
                </div>
            </div>
            <div style="background: rgba(255, 255, 255, 0.95); border-radius: 15px; padding: 25px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); margin-bottom: 30px;">
                <h2 style="color: #1e3c72; margin-bottom: 20px;">ðŸ‘¥ Trainees</h2>
                <div class="admin-grid" id="adminGrid"></div>
            </div>
        </div>
    </div>

    <script>
        let currentLoginType = 'trainee';

        const TRAINEES = [
            { memberId: '5009810', name: 'Jessica Arciero' },
            { memberId: '1249011', name: 'Stephen Belcher' },
            { memberId: '5006078', name: 'Joseph Cerletti' },
            { memberId: '5005376', name: 'Hanley Chan' },
            { memberId: '5009795', name: 'Cody Jokela' },
            { memberId: '5009811', name: 'Sheila Jessup' },
            { memberId: '1215416', name: 'Gregory Maroulas' },
            { memberId: '1209105', name: 'Robert Tucknott' },
            { memberId: '5009561', name: 'Jake Yoshino' },
            { memberId: '5010123', name: 'Daniel Gamache' },
            { memberId: '5010122', name: 'Brian Tang' },
            { memberId: '5009876', name: 'Chris Chen' },
            { memberId: '5009877', name: 'Jarvis Delaine' },
            { memberId: '5009878', name: 'Patrick Maguire' }
        ];

        const LEADERS = [
            { memberId: '5009623', name: 'Yohannes Tilahun' },
            { memberId: '3010789', name: 'Adam Kovalevsky' },
            { memberId: '3007136', name: 'Adrienne Kuehneman' }
        ];

        const LEADER_PASSWORDS = {
            '5009623': '116511'
        };

        const BQ_CHECKLIST = {
            setup: [
                'Secure welcome letter',
                'Save Member ID and Flotilla Number',
                'Set up login credentials',
                'Confirm account activation',
                'Test Moodle access',
                'Locate training portal',
                'Get enrollment keys',
                'System navigation notes'
            ],
            training: [
                'California Boater Card',
                'Email boater certificate',
                'AUXCT CORE Certification',
                'Security Fundamentals',
                'Privacy Awareness',
                'Sexual Harassment Prevention',
                'Suicide Prevention',
                'Sexual Assault Prevention',
                'Civil Rights Awareness',
                'Ethics Training',
                'FEMA ICS-100',
                'FEMA IS-700',
                'Email FEMA certificates',
                'BQC II Module 1',
                'BQC II Module 2',
                'BQC II Module 3',
                'BQC II Module 4',
                'BQC II Module 6',
                'BQC II Module 7',
                'Bloodborne Pathogens',
                'Risk Management',
                'Download certificates',
                'Training tips noted'
            ],
            records: [
                'AUXDATA II access',
                'AD2 training',
                'Member Records',
                'Activity Log',
                'My Competencies',
                'My Tasks',
                'My Awards',
                'Verify training records',
                'Understand Certificate Timeline',
                'Understand Follow-up Timeline',
                'FEMA certificates uploaded',
                'Bloodborne Pathogens listed',
                'Member information verified',
                'Submit missing certificates'
            ],
            uniforms: [
                'Review Uniform Manual',
                'Research uniform options',
                'Check for donated uniforms',
                'ODU Ball Cap',
                'Name Tape',
                'USCG AUXILIARY Tape',
                'ODU Blouse',
                'ODU Trousers',
                'Blue T-Shirt',
                'Riggers Belt',
                'ODU Collar Device',
                'Ball Cap Device',
                'Tactical Boots',
                'Black Military Socks',
                'Trouser Blousers',
                'Dress Shirt',
                'Dress Trousers',
                'Garrison Cap',
                'Auxiliary Belt',
                'Name Tag',
                'Shoulder Boards',
                'Garrison Cap Device',
                'Dress Shoes',
                'Thin Black Socks',
                'Visit CGX Shop',
                'Acquire uniform',
                'Schedule inspection',
                'Pass inspection'
            ],
            final: [
                'Verify training completed',
                'Confirm boater certification',
                'Confirm uniform inspection',
                'Check BQ Status Form',
                'Mentor review',
                'Request BQ status',
                'Apply for ID card',
                'BQ status confirmed',
                'ID card received'
            ]
        };

        function setLoginType(type) {
            currentLoginType = type;
            const buttons = document.querySelectorAll('.login-type-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const label = document.getElementById('credentialLabel');
            const input = document.getElementById('credential');
            
            if (type === 'trainee') {
                label.textContent = 'PIN (6 digits):';
                input.placeholder = 'Enter 6-digit PIN';
            } else {
                label.textContent = 'Password:';
                input.placeholder = 'Enter password';
            }
        }

        function login() {
            const memberId = document.getElementById('memberId').value;
            const credential = document.getElementById('credential').value;
            
            if (!memberId) {
                alert('Please enter your Member ID');
                return;
            }
            
            if (!credential) {
                alert('Please enter your PIN/Password');
                return;
            }
            
            if (currentLoginType === 'trainee') {
                if (credential.length !== 6 || isNaN(credential)) {
                    alert('PIN must be 6 digits');
                    return;
                }
                localStorage.setItem('currentUser', JSON.stringify({
                    memberId: memberId,
                    type: 'trainee'
                }));
                showTraineeView();
            } else {
                const leader = LEADERS.find(l => l.memberId === memberId);
                if (!leader) {
                    alert('Leader Member ID not found');
                    return;
                }
                if (LEADER_PASSWORDS[memberId] !== credential) {
                    alert('Invalid password');
                    return;
                }
                localStorage.setItem('currentUser', JSON.stringify({
                    memberId: memberId,
                    type: 'leader'
                }));
                showLeaderView();
            }
        }

        function logout() {
            localStorage.removeItem('currentUser');
            document.getElementById('loginView').classList.add('active');
            document.getElementById('traineeView').classList.remove('active');
            document.getElementById('leaderView').classList.remove('active');
            document.getElementById('memberId').value = '';
            document.getElementById('credential').value = '';
        }

        function showTraineeView() {
            document.getElementById('loginView').classList.remove('active');
            document.getElementById('leaderView').classList.remove('active');
            document.getElementById('traineeView').classList.add('active');
            renderTraineeView();
        }

        function showLeaderView() {
            document.getElementById('loginView').classList.remove('active');
            document.getElementById('traineeView').classList.remove('active');
            document.getElementById('leaderView').classList.add('active');
            renderLeaderView();
        }

        function renderTraineeView() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            const trainee = TRAINEES.find(t => t.memberId === user.memberId);
            
            document.getElementById('traineeUserName').textContent = trainee ? 
                trainee.name + ' (' + trainee.memberId + ')' : 
                'User (' + user.memberId + ')';
            
            let html = '';
            for (const [section, items] of Object.entries(BQ_CHECKLIST)) {
                html += `<h3 style="color: #1e3c72; margin-top: 30px; margin-bottom: 15px;">ðŸ“‹ ${section.toUpperCase()}</h3>`;
                items.forEach((item, idx) => {
                    const itemId = `${user.memberId}-${section}-${idx}`;
                    const isChecked = localStorage.getItem(itemId) === 'true';
                    html += `
                        <div class="checklist-item ${isChecked ? 'completed' : ''}">
                            <input type="checkbox" id="${itemId}" ${isChecked ? 'checked' : ''} onchange="updateProgress()">
                            <label for="${itemId}">${item}</label>
                        </div>
                    `;
                });
            }
            document.getElementById('checklistContainer').innerHTML = html;
            updateProgress();
        }

        function updateProgress() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            let total = 0, completed = 0;
            
            for (const [section, items] of Object.entries(BQ_CHECKLIST)) {
                items.forEach((_, idx) => {
                    total++;
                    if (localStorage.getItem(`${user.memberId}-${section}-${idx}`) === 'true') {
                        completed++;
                    }
                });
            }
            
            const progress = Math.round((completed / total) * 100);
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressFill').textContent = progress + '%';
            localStorage.setItem(`${user.memberId}-progress`, progress);
        }

        function renderLeaderView() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            const leader = LEADERS.find(l => l.memberId === user.memberId);
            
            document.getElementById('leaderUserName').textContent = leader ? 
                leader.name + ' (' + leader.memberId + ')' : 
                'Leader (' + user.memberId + ')';
            
            const stats = {
                onTrack: 0,
                atRisk: 0,
                needsAttention: 0,
                total: 0,
                avgProgress: 0
            };
            
            TRAINEES.forEach(trainee => {
                const progress = parseInt(localStorage.getItem(`${trainee.memberId}-progress`) || '0');
                if (progress >= 70) stats.onTrack++;
                else if (progress >= 30) stats.atRisk++;
                else stats.needsAttention++;
                stats.total++;
                stats.avgProgress += progress;
            });
            
            stats.avgProgress = Math.round(stats.avgProgress / stats.total);
            
            document.getElementById('onTrackCount').textContent = stats.onTrack;
            document.getElementById('atRiskCount').textContent = stats.atRisk;
            document.getElementById('needsAttentionCount').textContent = stats.needsAttention;
            document.getElementById('groupAverage').textContent = stats.avgProgress + '%';
            
            let gridHtml = '';
            TRAINEES.forEach(trainee => {
                const progress = parseInt(localStorage.getItem(`${trainee.memberId}-progress`) || '0');
                const statusClass = progress >= 70 ? 'green' : progress >= 30 ? 'yellow' : 'red';
                gridHtml += `
                    <div class="admin-card ${statusClass}">
                        <h3>${trainee.name}</h3>
                        <p>${trainee.memberId}</p>
                        <div class="percent">${progress}%</div>
                    </div>
                `;
            });
            document.getElementById('adminGrid').innerHTML = gridHtml;
        }

        window.addEventListener('load', () => {
            const user = localStorage.getItem('currentUser');
            if (user) {
                const userData = JSON.parse(user);
                if (userData.type === 'trainee') {
                    showTraineeView();
                } else {
                    showLeaderView();
                }
            }
        });
    </script>
</body>
</html>
